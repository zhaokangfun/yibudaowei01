function CommonCheckboxStoreTree(a){this.init(a);this.render();this.bindEvent()}CommonCheckboxStoreTree.prototype={init:function(b){this.checkboxTreeApi=null;this.element=null;var a={selectItem:null,onInitedCallBackFn:null,callback:null,checkboxTreeApi:null};this.options=$.extend({},a,b)},render:function(){this.initStroePopup();this.initTree()},bindEvent:function(){var a=this;var b=a.options;a.element.on("click",".btn",function(c){if($(this).hasClass("btn-cancel")){a.hide()}if($(this).hasClass("btn-sure")){a.hide();b.callback(a.checkboxTreeApi.getAllSelectCheckboxs())}});a.element.on("click",".close",function(c){a.hide()});a.element.on("click",".tree-tools",function(c){var d=$(c.target);if(d.hasClass("select-all-checkbox")){a.checkboxTreeApi.selectAllCheckbox()}if(d.hasClass("select-none-checkbox")){a.checkboxTreeApi.selectNoneCheckbox()}if(d.hasClass("select-all-childs-checkbox")){a.checkboxTreeApi.selectAllChildsCheckbox()}if(d.hasClass("select-none-childs-checkbox")){a.checkboxTreeApi.selectNoneChildsCheckbox()}})},initTree:function(){var a=this;var b=a.options;var c={id:"id",name:"name",children:"childrenStructNodeList",contentType:"application/json;charset=utf-8",treeType:1,selectCallBack:function(d){b.selectItem=d},url:ContextClinc_Server+"cliniccombox/getStoreChildrenNodeList",onInitedCallBackFn:function(d){d.selectFirstRootNode()},ajaxParamCallBackFn:function(d){if(!d){d={}}d.isFilterUnavailableStore=true;return JSON.stringify(d)},checkbox:true};a.checkboxTreeApi=new StructTree(a.element.find(".tree-box"),c)},initStroePopup:function(){var a="<div class='popup popretrieval select-clinic' style='display:none;left:auto;'>	<div class='popstyle'>		<div class='poptitle' style='cursor: default;'>门店选择<span class='close'></span></div>		<div class='popcontent clear'>		<div class='tree-tools'>			<span class='select-all-checkbox' title='全选'></span>			<span class='select-none-checkbox' title='全不选'></span>			<span class='select-all-childs-checkbox' title='全选子节点'></span>			<span class='select-none-childs-checkbox' title='全不选子节点'></span>		</div>			<div class='tree-box clear checkbox-tree'></div>			<div class='btn-group fr m-b-10'>				<a href='javascript:;' class='btn btn-cancel fl m-r-12'>取消</a>				<a href='javascript:;' class='btn btn-sure fl' >确认</a>			</div>		</div>	</div></div>";this.element=$(a);$("body").append(this.element);dragPop.popdrag()},show:function(b){var f=window.document.body.clientWidth;var j=window.document.body.clientHeight;var d=this.element.width();var c=this.element.height();var h=((j-c)/2)>150?150:((j-c)/2);this.element.css("right",(f-d)/2);this.element.css("top",h);b=b||[];if(b.length!=0){for(var e=0,g=b.length;e<g;e++){var a=b[e];this.checkboxTreeApi.selectOneCheckboxById(a)}}this.element.show()},hide:function(){this.element.hide()}};