/** 
 * cdss - v2.0.0 
 * Create Date -2017-04-26 16:35:26
 * Copyright (c) 2017 jerry; Licensed GPLv2 
 */
function CdssDiagnosisBasis(a,b){this.init(a,b)}var $diagnosis_basis_tpl={};$diagnosis_basis_tpl["diagnosis_basis/tpl/body"]='<div class="hm-diagnosis-body"><div class="hm-diagnosis-left"><div class="hm-diagnosis-pl-ll"> <% for (var i = 0; i < value.docContentList.length; i ++) { %> <%var item = value.docContentList[i];%> <dl class="hm-diagnosis-pb-dl <%=\'hm_diagnosis\'+item.titleId%>" name="<%=item.titleId%>"> <%if(item.title){%> <dt class="hm-diagnosis-pbdl-tt"><span>&nbsp;</span> <font><%=item.title%></font><a class="">&nbsp;</a></dt> <% }%> <dd class="hm-diagnosis-pbdl-dd"> <%=#item.content%> </dd></dl> <% } %> </div></div><ul class="hm-diagnosis-right"> <% for (var i = 0; i < value.catalogueList.length; i ++) { %> <%var item = value.catalogueList[i]; n = i+1;%> <%if(item.title){%> <li id=""><a id="<%=\'hm_diagnosis_bar_\'+item.titleId%>" name="<%=\'hm_diagnosis\'+item.titleId%>" class="<%=\'hm_diagnosis_bar_\'+item.titleId%> hm-diagnosis-li <%= i==0?\'active\':\'\'%>"><span class="hm-diagnosis-icon hm-diagnosis-icon-oo"></span> <font title="<%=n+\'.\'+item.title%>"><%=n+\'.\'+item.title%></font></a></li> <% } %> <% } %> </ul></div>',$diagnosis_basis_tpl["diagnosis_basis/tpl/head"]='<div id="cdss_diagnosis_header" class="hm-diagnosis-header"><span class="hm-diagnosis-tit"><%=diagnosisName%></span><span class="hm-diagnosis-tit-bas">诊断依据</span> <a href="javascript:void(0)" class="hm-diagnosis-closed_btn" id="hm_diagnosis_closed_btn"><img src="<%=link%>/images/close.png"></a></div>',CdssDiagnosisBasis.prototype.init=function(a,b){function c(){var a=e(".hm-diagnosis-body"),b=!1,c=a.find(".hm-diagnosis-li");c.bind("onclick",function(a){var d=this;c.removeClass("active"),e(d).toggleClass("active"),b=!0,window._cdss_mblock_index&&clearTimeout(window._cdss_mblock_index),window._cdss_mblock_index=setTimeout(function(){b=!1},200);var f=e(".hm-diagnosis-left").getDom(),g=e("."+d.name).getDom();f.scrollTop=g.offsetTop-16});var d=e("#hm_diagnosis_closed_btn");d.bind("onclick",function(){g.remove()});var f=e(".hm-diagnosis-left");f.bind("onscroll",function(){var a=this.scrollTop;b||(window._cdssDetailScrollIndex&&clearTimeout(window._cdssDetailScrollIndex),window._cdssDetailScrollIndex=setTimeout(function(){for(var b=e(".hm-diagnosis-left").find(".hm-diagnosis-pb-dl").getDom(),c=0,d=0;d<b.length;d++){var f=b[d],g=f.offsetHeight;if(c+=g,c>a&&a>c-g||!a){var h=jss(f).attr("name"),i=e(".hm-diagnosis-right").find(".hm-diagnosis-li"),j=e(".hm-diagnosis-right").find(".hm_diagnosis_bar_"+h);i.removeClass("active"),j.addClass("active");break}}},100))})}var d=this.urls,e=jss,f=e().renderTpl($diagnosis_basis_tpl["diagnosis_basis/tpl/head"],{diagnosisName:b.name,link:jss.cdssRoot});if(b.isCs)var g=e(a).dialog({position:"absolute",zIndex:1e6,headerHtml:f,contentHtml:"正在加载....",hasBorderRadius:!0,contentWidth:"100%",showFooter:!1,hasborder:!1,hasShadow:!1});else var g=e(a).dialog({position:"fixed",zIndex:1e6,headerHtml:f,contentHtml:"正在加载....",hasBorderRadius:!0,contentWidth:"70%",showFooter:!1});var h=e("#cdss_diagnosis_header").loading({position:"absolute",zIndex:"99999999",left:"50%",top:"0px"});jss.ax(d.diagnosis,{type:"POST",header:{Huimei_id:b.autherkey,"api-extend-params":b.userOptions||""},data:{diseaseId:b.id},success:function(a){h.remove();var b=e().renderTpl($diagnosis_basis_tpl["diagnosis_basis/tpl/body"],{value:a.body});g.setContent(b),c()}})},CdssDiagnosisBasis.prototype.urls={diagnosis:{develop:"/mockdata/diagnosisbasis/diagnosis_basis.json",online:jss.root+"/v_2_0/disease/basis"}};