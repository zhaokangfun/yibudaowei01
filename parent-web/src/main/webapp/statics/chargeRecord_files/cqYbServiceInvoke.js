var cqYbServiceInvoke;$(function(){cqYbServiceInvoke=new cqYbService()});function cqYbService(a){this.submitData=a}cqYbService.prototype={constructor:cqYbService,getMiPatientInfo:function(b,c){var a={areaCode:MI_AREA_CODE.CHONGQING,data:{appCode:CQ_APP_CODE_ENUM.READ_CARD}};YBUtils.sendMsg(a,function(d){b.data.appCode=CQ_APP_CODE_ENUM.GET_MI_PATIENT_INFO;b.data.miCardNo=d.miCardNo;YBUtils.sendMsg(b,c)})},getMiPatientAccountInfo:function(b,a){b.data.appCode=CQ_APP_CODE_ENUM.GET_PATIENT_ACCOUNT_INFO;YBUtils.sendMsg(b,a)},addPrescriptionDetails:function(d,b){d.data.appCode=CQ_APP_CODE_ENUM.ADD_PRESCRIPTION;var a=d.data.addPrescriptionItems;var f=30;var e=(a==null?0:a.length);var g=Math.ceil(e/f);if(g==1){YBUtils.sendMsg(d,b)}else{for(var c=0;c<g;c++){d.data.addPrescriptionItems=a.slice(f*c,(f*(c+1)));YBUtils.sendMsg(d,b)}}},withdrawPrescription:function(b,a){b.data.appCode=CQ_APP_CODE_ENUM.WITHDRAW_PRESCRIPTION;YBUtils.sendMsg(b,a)},preSettle:function(b,a){b.data.appCode=CQ_APP_CODE_ENUM.PRE_SETTLE;YBUtils.sendMsg(b,a)},settle:function(c,a,b){c.data.appCode=CQ_APP_CODE_ENUM.SETTLE;YBUtils.sendMsg(c,a,b)},reFund:function(a,b){a.appCode=CQ_APP_CODE_ENUM.WASH_OPERATION;var c={data:a,areaCode:MI_AREA_CODE.CHONGQING};YBUtils.sendMsg(c,b)},getCQYBMappingDataAndYBRecord:function(a){var b=null;var c={url:ContextClinc_Server+"ybReimburse/chongqing/getYBItemInfoById",dataType:"json",type:"POST",data:JSON.stringify(a),contentType:"application/json;charset=utf-8",showMask:true,async:false};var d=Utils.myAjaxHandler(c);d.done(function(e){if(e!=null&&e.errorCode==SUCCESSCODE){b=e.data}else{$.paError("获取医保对照信息失败:",e.errorMessage)}});return b}};var CQ_APP_CODE_ENUM={GET_MI_PATIENT_INFO:"01",VISIT_REG:"02",UPDATE_VISIT_REG:"03",ADD_PRESCRIPTION:"04",SETTLE:"05",PRE_SETTLE:"06",GET_SPECIAL_APPROVE_INFO:"07",WITHDRAW_PRESCRIPTION:"10",GET_INSTITUTION_INFO:"11",GET_MEDICAL_TYPE_INFO:"12",GET_PATIENT_ACCOUNT_INFO:"13",GET_RECONCILIATION_INFO:"15",APPROVE_HIGH_FEES:"21",GET_MI_NOT_APPROVE_ITEM:"22",USE_MI_ACCOUT_PAY:"23",GET_CAT_CHANGE_INFO:"24",GET_PATIENT_INPAT_STATUS:"27",READ_CARD:"31",WASH_OPERATION:"99"};