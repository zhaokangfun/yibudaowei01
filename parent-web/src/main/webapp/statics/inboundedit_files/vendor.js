$(function(){$("#info_cancel").click(function(){$("#add_edit_div").hide();$("#list_div").show();updateClickMdcVendorList()});$("#tooth_info_cancel").click(function(){$("#tooth_add_edit_div").hide();$("#add_edit_div").hide();$("#list_div").show()})});$(document).ready(function(){vendorDataInit();getClickMdcVendorList(-1,"")});function btn_add(){if($("#category .current a").attr("data-isfortooth")==1){$("#list_div").hide();$("#add_edit_div").hide();$("#tooth_add_edit_div").show();addToothPageInit()}else{$("#list_div").hide();$("#add_edit_div").show();$("#tooth_add_edit_div").hide();addPageInit()}}function vendorDataInit(){var a={method:"POST",url:maindata_url.getUrl().mdcVendor_category,dataType:"json",showMask:true};var b=Utils.myAjaxHandler(a);b.done(function(g){var c=g.data;var d=g.errorMessage;var f=g.errorCode;if(f!="E0000000"){$.paAlert("失败："+f+"，"+d);return}for(var e=0;e<c.length;e++){if(e==0){if(c[e].dictItemName.indexOf("义齿加工")!=-1){$(".left-column-list").append("<li class='current'><a data-isfortooth='1' data-dictItemId='"+c[e].dictItemId+"' onclick=getClickMdcToothVendorList('"+c[e].dictItemId+"','')>"+c[e].dictItemName+"</a></li>")}else{$(".left-column-list").append("<li class='current'><a data-isfortooth='0' data-dictItemId='"+c[e].dictItemId+"' onclick=getClickMdcVendorList('"+c[e].dictItemId+"','')>"+c[e].dictItemName+"</a></li>")}}else{if(c[e].dictItemName.indexOf("义齿加工")!=-1){$(".left-column-list").append("<li><a data-isfortooth='1' data-dictItemId='"+c[e].dictItemId+"' onclick=getClickMdcToothVendorList('"+c[e].dictItemId+"','')>"+c[e].dictItemName+"</a></li>")}else{$(".left-column-list").append("<li><a data-isfortooth='0' data-dictItemId='"+c[e].dictItemId+"' onclick=getClickMdcVendorList('"+c[e].dictItemId+"','')>"+c[e].dictItemName+"</a></li>")}}}}).fail(function(c){}).always(function(){})}function getClickMdcVendorList(c,a){$("#vendorTable").show();$("#toothVendorTable").hide();var b={dictItemId:c,currentPage:1,searchCode:a};showListInPage(b)}function showListInPage(a){$(".left-column-list li").click(function(){$(this).addClass("current").siblings().removeClass("current")});var b={currentPage:(a==undefined||a==null)?1:a.currentPage,pageSize:20};$.extend(b,a);b.ajaxopts={method:"POST",url:maindata_url.getUrl().mdcVendor_clickCategory,dataType:"json",contentType:"application/json; charset=utf-8",data:JSON.stringify(a),showMask:true};b.callback=function(d){var g=d.data;var h=d.errorMessage;var m=d.errorCode;if(m!="E0000000"){$.paAlert("失败："+m+"，"+h);return}$("#currentTableList").empty();var e="停用";var c=g.dataSource;var j;var l;for(var f=0;f<c.length;f++){j=c[f].NATION_DICT_ITEM_NAME+"|"+c[f].PROVINCE_DICT_ITEM_NAME+"|"+c[f].CITY_DICT_ITEM_NAME+"|"+c[f].VENDOR_ADDR;l=j.replace(/\|/g,"");localStorage.setItem("addr_"+c[f].VENDOR_CODE,j);if(c[f].DISABLED==0){e="停用"}else{e="启用"}var n={0:"DISABLE",1:"ENABLE"};var k="<tr><td width='20%'>"+c[f].VENDOR_CODE+"</td><td width='25%'>"+c[f].VENDOR_NAME+"</td><td width='15%'>"+c[f].PRODUCT_DICT_ITEM_NAME+"</td><td width='25%'>"+l+"</td><td><a onclick='updateVendorInit(\""+c[f].VENDOR_ID+'",'+f+")' WJPerm='DICT06-SAVE'>编辑</a><a id='"+c[f].VENDOR_ID+"' onclick='updateDisable(\""+c[f].VENDOR_ID+"\")' WJPerm='DICT06-"+n[c[f].DISABLED]+"'>"+e+"</a></td></tr>";k=k.replace(/null/g,"");$("#currentTableList").append(k)}localStorage.setItem("currentPage",g.currentPage);renderPermissionControl()};$("#my-page").generatePagination(b)}function addPageInit(){$("#add_edit_div").removeErrorMsg();clearInput();productTypeDrop();thinking();getNation();getProvince();getCity("");$("#add_edit_div").ketchup()}function save(){var a=$("#add_edit_div").ableToFinish();if(!a){return}var d={vendorId:$("#vendorId").val(),pVendorId:$("#pVendorId").val(),vendorCode:$("#vendorCode").val(),vendorName:$("#vendorName").val(),vendorShort:$("#vendorShort").val(),vendorTypeId:$("#category .current a").attr("data-dictitemid"),productTypeId:localStorage.getItem($("#productType").val()),vendorLicense:$("#vendorLicense").val(),wbCode:$("#wbCode").val(),pyCode:$("#pyCode").val(),nationId:localStorage.getItem($("#nation").val()+"_nation_id"),provinceId:localStorage.getItem($("#province").val()+"_province_id"),cityId:localStorage.getItem($("#city").val()+"_city_id"),detailAddr:$("#detailAddr").val(),permitNO:$("#permitNO").val(),registerNO:$("#registerNO").val()};var b={method:"POST",url:maindata_url.getUrl().mdcVendor_saveVendorInfo,data:d,dataType:"json",showMask:true};var c=Utils.myAjaxHandler(b);c.done(function(h){var e=h.errorMessage;var f=h.errorCode;if(f!="E0000000"){$.paAlert(e);return}$.paAlert("保存成功！");$("#add_edit_div").hide();$("#list_div").show();var g={dictItemId:-1,currentPage:localStorage.getItem("currentPage"),searchCode:$("#searchCode").val()};updateClickMdcVendorList()}).fail(function(e){}).always(function(){})}function keyup(){SetPYValue();SetWBValue()}function SetPYValue(){var b=$("#vendorName").val();var a=hz2JP(b);$("#pyCode").val(a)}function SetWBValue(){var b=$("#vendorName").val();var a=hz2WB(b);$("#wbCode").val(a)}function getNation(){var a={method:"POST",url:maindata_url.getUrl().mdcVendor_getNation,dataType:"json",showMask:true};var b=Utils.myAjaxHandler(a);b.done(function(h){var d=h.data;var e=h.errorMessage;var g=h.errorCode;if(g!="E0000000"){$.paAlert("失败："+g+"，"+e);return}$("#nationList").empty();for(var f=0;f<d.length;f++){localStorage.setItem(d[f].DICT_ITEM_NAME+"_nation_code",d[f].DICT_ITEM_CODE);localStorage.setItem(d[f].DICT_ITEM_NAME+"_nation_id",d[f].DICT_ITEM_ID)}var c={idKey:"dictItemId",txtKey:"DICT_ITEM_NAME"};$("#nation").WJZSDropdown(d,c,function(i,j){if(j.DICT_ITEM_NAME=="外国"){$("#province").val("");$("#city").val("");$("#province").WJZSDropdown(null,null,function(k,l){});$("#city").WJZSDropdown(null,null,function(k,l){})}if(j.DICT_ITEM_NAME=="中国"){getProvince()}})}).fail(function(c){}).always(function(){})}function getProvince(){var c={getProvince:1,getCity:-1,getDistrict:-1,provinceSignature:null,citySignature:null};var a={method:"POST",url:maindata_url.getUrl().mdcVendor_getProvince,data:c,dataType:"json",showMask:true};var b=Utils.myAjaxHandler(a);b.done(function(j){var e=j.data;var f=j.errorMessage;var h=j.errorCode;if(h!="E0000000"){$.paAlert("失败："+h+"，"+f);return}$("#provinceList").empty();for(var g=0;g<e.length;g++){localStorage.setItem(e[g].DICT_ITEM_NAME+"_province_code",e[g].DICT_ITEM_CODE);localStorage.setItem(e[g].DICT_ITEM_NAME+"_province_id",e[g].DICT_ITEM_ID)}var d={idKey:"dictItemId",txtKey:"DICT_ITEM_NAME"};$("#province").WJZSDropdown(e,d,function(i,k){$("#city").val("");getCity(k.DICT_ITEM_CODE)})}).fail(function(d){}).always(function(){})}function getCity(b){var d={getProvince:-1,getCity:1,getDistrict:-1,provinceSignature:b,citySignature:null};var a={method:"POST",url:maindata_url.getUrl().mdcVendor_getCityList,data:d,dataType:"json",showMask:true};var c=Utils.myAjaxHandler(a);c.done(function(k){var f=k.data;var g=k.errorMessage;var j=k.errorCode;if(j!="E0000000"){$.paAlert("失败："+j+"，"+g);return}$("#cityList").empty();for(var h=0;h<f.length;h++){localStorage.setItem(f[h].DICT_ITEM_NAME+"_city_code",f[h].DICT_ITEM_CODE);localStorage.setItem(f[h].DICT_ITEM_NAME+"_city_id",f[h].DICT_ITEM_ID)}var e={idKey:"dictItemId",txtKey:"DICT_ITEM_NAME"};$("#city").WJZSDropdown(f,e,function(i,l){})}).fail(function(e){}).always(function(){})}function updateDisable(b){var a;if($("#"+b).text()=="停用"){$("#"+b).text("启用");$("#"+b).attr("WJPerm","DICT06-ENABLE");a=1}else{$("#"+b).text("停用");$("#"+b).attr("WJPerm","DICT06-DISABLE");a=0}renderPermissionControl();var e={vendorId:b,flag:a};var c={method:"POST",url:maindata_url.getUrl().mdcVendor_updateDisable,data:e,dataType:"json",showMask:true};var d=Utils.myAjaxHandler(c);d.done(function(h){var f=h.errorMessage;var g=h.errorCode;if(g!="E0000000"){$.paAlert("失败："+g+"，"+f);return}else{$.paAlert("更新状态成功！");return}}).fail(function(f){}).always(function(){})}function updateVendorInit(a,c){$("#add_edit_div").removeErrorMsg();$("#list_div").hide();$("#add_edit_div").show();productTypeDrop();getNation();getProvince();getCity("");var b={method:"POST",url:maindata_url.getUrl().mdcVendor_getEditInfo,data:{vendorId:a},dataType:"json",showMask:true};var d=Utils.myAjaxHandler(b);d.done(function(h){var e=h.data;var f=h.errorMessage;var g=h.errorCode;if(g!="E0000000"){$.paAlert("失败："+g+"，"+f);return}$("#vendorId").val(a);$("#vendorCode").val(e.VENDOR_CODE);$("#vendorName").val(e.VENDOR_NAME);$("#vendorShort").val(e.VENDOR_NAME_SHORT);$("#vendorType").val($("#category .current a").text());$("#productType").val(e.PRODUCT_TYPE);$("#productType").attr("val",e.PRODUCT_TYPE);$("#vendorLicense").val(e.VENDOR_LICENCE_NO);$("#wbCode").val(e.WB_CODE);$("#pyCode").val(e.PY_CODE);$("#nation").val(e.NATION_DICT_ITEM_NAME);$("#nation").attr("val",e.NATION_DICT_ITEM_NAME);$("#province").val(e.PROVINCE_DICT_ITEM_NAME);$("#province").attr("val",e.PROVINCE_DICT_ITEM_NAME);$("#city").val(e.CITY_DICT_ITEM_NAME);$("#city").attr("val",e.CITY_DICT_ITEM_NAME);$("#detailAddr").val(e.VENDOR_ADDR);$("#permitNO").val(e.VENDOR_PERMIT_NO);$("#registerNO").val(e.VENDOR_REGISTER_NO)}).fail(function(e){}).always(function(){});$("#add_edit_div").ketchup()}function setSelectIdValue(c,b){var a=$("#"+c).find("li[value='"+b+"']").text();$("#"+c).find(".select_val").text(a);$("#"+c).find("input").val(b)}function searchVendorList(){var b=$("#searchCode").val();var a=$("#category .current a");if(a.attr("data-isfortooth")==1){getClickMdcToothVendorList(a.attr("data-dictItemId"),b)}else{getClickMdcVendorList(a.attr("data-dictItemId"),b)}}function letThinkDataIn(){var b=$("#thinkVendorName").val();if(b.length==0){$.paAlert("引入内容不能为空！");return}var a=localStorage.getItem("thinkInput_"+b);putThinkDataIn(a)}function putThinkDataIn(a){var b={method:"POST",url:maindata_url.getUrl().mdcVendor_getVendorInfoById,data:{pVendorId:a},dataType:"json",showMask:true};var c=Utils.myAjaxHandler(b);c.done(function(g){var d=g.data;var e=g.errorMessage;var f=g.errorCode;if(f!="E0000000"){$.paAlert("失败："+f+"，"+e);return}$("#pVendorId").val(a);$("#vendorCode").val(d.VENDOR_CODE);$("#vendorName").val(d.VENDOR_NAME);$("#vendorShort").val(d.VENDOR_NAME_SHORT);$("#vendorType").val(d.VENDOR_TYPE);$("#productType").val(d.PRODUCT_TYPE);$("#productType").attr("val",d.PRODUCT_TYPE);$("#vendorLicense").val(d.VENDOR_LICENCE_NO);$("#wbCode").val(d.WB_CODE);$("#pyCode").val(d.PY_CODE);$("#nation").val(d.nation);$("#nation").attr("val",d.nation);$("#province").val(d.province);$("#province").attr("val",d.province);$("#city").val(d.city);$("#city").attr("val",d.city);$("#detailAddr").val(d.VENDOR_ADDR);$("#permitNO").val(d.VENDOR_PERMIT_NO);$("#registerNO").val(d.VENDOR_REGISTER_NO)}).fail(function(d){}).always(function(){})}function vendorTypeDrop(){$("#vendorTypeList").empty();var a={method:"POST",url:maindata_url.getUrl().mdcVendor_category,dataType:"json",showMask:true};var b=Utils.myAjaxHandler(a);b.done(function(g){var d=g.data;var e=g.errorMessage;var f=g.errorCode;if(f!="E0000000"){$.paAlert("失败："+f+"，"+e);return}var c={idKey:"dictItemId",txtKey:"dictItemName"};$("#vendorType").WJZSDropdown(d,c,function(h,i){});Utils.disabledInput($("#vendorType").parent("div"))}).fail(function(c){}).always(function(){})}function productTypeDrop(){var a={method:"POST",url:maindata_url.getUrl().mdcVendor_getProductType,dataType:"json",showMask:true};var b=Utils.myAjaxHandler(a);b.done(function(h){var d=h.data;var e=h.errorMessage;var g=h.errorCode;if(g!="E0000000"){$.paAlert("失败："+g+"，"+e);return}var c={idKey:"dictItemId",txtKey:"dictItemName"};for(var f=0;f<d.length;f++){localStorage.setItem(d[f].dictItemName,d[f].dictItemId)}$("#productType").WJZSDropdown(d,c,function(i,j){})}).fail(function(c){}).always(function(){})}function thinking(){var a={columns:[{display:"供应商名称",dataKey:"VENDORNAME",width:90}],selectFirst:true,formatResult:function(c){return c.NAME},matchContains:"word",autoFill:false,width:600,ajaxOptions:{method:"POST"},multiple:false,multipleSeparator:", ",highlight:function(d,c){return d.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+c.replace(/([\^\$\(\)\[\]\{\}\*\.\+\?\|\\])/gi,"\\$1")+")(?![^<>]*>)(?![^&;]+;)","gi"),"<strong>$1</strong>")},scroll:true,scrollHeight:180};var b=maindata_url.getUrl().mdcVendor_getVendorThinkResult;$(".has-think-table").autocomplete(b,a).result(function(d,f,e){$("#thinkVendorName").val(f.VENDORNAME);var c=f.PVENDORID;localStorage.setItem("thinkInput_"+f.VENDORNAME,c)})}function clearInput(){$("#pVendorId").val("");$("#thinkVendorName").val("");$("#vendorId").val("");$("#vendorCode").val("");$("#vendorName").val("");$("#vendorShort").val("");$("#vendorType").val($("#category .current a").text());$("#productType").val("");$("#productType").attr("val","");$("#vendorLicense").val("");$("#wbCode").val("");$("#pyCode").val("");$("#nation").val("");$("#province").val("");$("#city").val("");$("#detailAddr").val("");$("#permitNO").val("");$("#registerNO").val("")}function getClickMdcToothVendorList(c,a){$("#vendorTable").hide();$("#toothVendorTable").show();if(a==""||a.length==0){document.getElementById("searchCode").value=""}var b={dictItemId:c,currentPage:1,searchCode:a};showToothListInPage(b)}function showToothListInPage(a){$(".left-column-list li").click(function(){$(this).addClass("current").siblings().removeClass("current")});var b={currentPage:(a==undefined||a==null)?1:a.currentPage,pageSize:20};$.extend(b,a);b.ajaxopts={method:"POST",url:maindata_url.getUrl().mdcVendor_clickToothCategory,dataType:"json",contentType:"application/json; charset=utf-8",data:JSON.stringify(a),showMask:true};b.callback=function(d){var g=d.data;var h=d.errorMessage;var m=d.errorCode;if(m!="E0000000"){$.paAlert("失败："+m+"，"+h);return}$("#toothCurrentTableList").empty();var e="停用";var c=g.dataSource;var j;var l;for(var f=0;f<c.length;f++){j=c[f].NATION_DICT_ITEM_NAME+"|"+c[f].PROVINCE_DICT_ITEM_NAME+"|"+c[f].CITY_DICT_ITEM_NAME+"|"+c[f].VENDOR_ADDR;l=j.replace(/\|/g,"");localStorage.setItem("addr_"+c[f].VENDOR_CODE,j);if(c[f].DISABLED==0){e="停用"}else{e="启用"}var n={0:"DISABLE",1:"ENABLE"};var k="<tr><td width='20%'>"+c[f].VENDOR_CODE+"</td><td width='30%'>"+c[f].VENDOR_NAME+"</td><td width='15%'>"+c[f].VENDOR_CONTACT+"</td><td width='20%'>"+c[f].VENDOR_CONTACT_PHONE+"</td><td><a onclick='updateToothVendorInit(\""+c[f].VENDOR_ID+'",'+f+")' WJPerm='DICT06-UPDATE'>编辑</a><a id='"+c[f].VENDOR_ID+"' onclick='updateDisable(\""+c[f].VENDOR_ID+"\")' WJPerm='DICT06-"+n[c[f].DISABLED]+"'>"+e+"</a></td></tr>";$("#toothCurrentTableList").append(k)}localStorage.setItem("currentPage",g.currentPage)};$("#tooth_my-page").generatePagination(b)}function addToothPageInit(){$("#tooth_add_edit_div").removeErrorMsg();clearToothInput();$("#toothVendorType").val("义齿加工厂商");getToothNation();getToothProvince();getToothCity("");$("#tooth_add_edit_div").ketchup()}function clearToothInput(){$("#toothVendorId").val("");$("#toothVendorCode").val("");$("#toothVendorName").val("");$("#toothVendorLicense").val("");$("#toothWbCode").val("");$("#toothPyCode").val("");$("#toothNation").val("");$("#toothProvince").val("");$("#toothCity").val("");$("#toothDetailAddr").val("");$("#toothPermitNO").val("");$("#toothRegisterNO").val("");$("#vendorContact").val("");$("#vendorContactPhone").val("")}function getToothNation(){var a={method:"POST",url:maindata_url.getUrl().mdcVendor_getNation,dataType:"json",showMask:true};var b=Utils.myAjaxHandler(a);b.done(function(h){var d=h.data;var e=h.errorMessage;var g=h.errorCode;if(g!="E0000000"){$.paAlert("失败："+g+"，"+e);return}$("#toothNationList").empty();for(var f=0;f<d.length;f++){localStorage.setItem(d[f].DICT_ITEM_NAME+"_nation_code",d[f].DICT_ITEM_CODE);localStorage.setItem(d[f].DICT_ITEM_NAME+"_tooth_nation_id",d[f].DICT_ITEM_ID)}var c={idKey:"dictItemId",txtKey:"DICT_ITEM_NAME"};$("#toothNation").WJZSDropdown(d,c,function(i,j){if(j.DICT_ITEM_NAME=="外国"){$("#toothProvince").val("");$("#toothCity").val("");$("#toothProvince").WJZSDropdown(null,null,function(k,l){});$("#toothCity").WJZSDropdown(null,null,function(k,l){})}if(j.DICT_ITEM_NAME=="中国"){getToothProvince()}})}).fail(function(c){}).always(function(){})}function getToothProvince(){var c={getProvince:1,getCity:-1,getDistrict:-1,provinceSignature:null,citySignature:null};var a={method:"POST",url:maindata_url.getUrl().mdcVendor_getProvince,data:c,dataType:"json",showMask:true};var b=Utils.myAjaxHandler(a);b.done(function(j){var e=j.data;var f=j.errorMessage;var h=j.errorCode;if(h!="E0000000"){$.paAlert("失败："+h+"，"+f);return}$("#toothProvinceList").empty();for(var g=0;g<e.length;g++){localStorage.setItem(e[g].DICT_ITEM_NAME+"_tooth_province_code",e[g].DICT_ITEM_CODE);localStorage.setItem(e[g].DICT_ITEM_NAME+"_tooth_province_id",e[g].DICT_ITEM_ID)}var d={idKey:"dictItemId",txtKey:"DICT_ITEM_NAME"};$("#toothProvince").WJZSDropdown(e,d,function(i,k){getToothCity(k.DICT_ITEM_CODE)})}).fail(function(d){}).always(function(){})}function getToothCity(b){var d={getProvince:-1,getCity:1,getDistrict:-1,provinceSignature:b,citySignature:null};var a={method:"POST",url:maindata_url.getUrl().mdcVendor_getCityList,data:d,dataType:"json",showMask:true};var c=Utils.myAjaxHandler(a);c.done(function(k){var f=k.data;var g=k.errorMessage;var j=k.errorCode;if(j!="E0000000"){$.paAlert("失败："+j+"，"+g);return}$("#toothCityList").empty();for(var h=0;h<f.length;h++){localStorage.setItem(f[h].DICT_ITEM_NAME+"_tooth_city_code",f[h].DICT_ITEM_CODE);localStorage.setItem(f[h].DICT_ITEM_NAME+"_tooth_city_id",f[h].DICT_ITEM_ID)}var e={idKey:"dictItemId",txtKey:"DICT_ITEM_NAME"};$("#toothCity").WJZSDropdown(f,e,function(i,l){})}).fail(function(e){}).always(function(){})}function toothKeyup(){var c=$("#toothVendorName").val();var a=hz2JP(c);$("#toothPyCode").val(a);var b=hz2WB(c);$("#toothWbCode").val(b)}function saveTooth(){var a=$("#tooth_add_edit_div").ableToFinish();if(!a){return}var d={vendorId:$("#toothVendorId").val(),vendorCode:$("#toothVendorCode").val(),vendorName:$("#toothVendorName").val(),vendorTypeId:$("#category .current a").attr("data-dictitemid"),vendorLicense:$("#toothVendorLicense").val(),wbCode:$("#toothWbCode").val(),pyCode:$("#toothPyCode").val(),nationId:localStorage.getItem($("#toothNation").val()+"_tooth_nation_id"),provinceId:localStorage.getItem($("#toothProvince").val()+"_tooth_province_id"),cityId:localStorage.getItem($("#toothCity").val()+"_tooth_city_id"),detailAddr:$("#toothDetailAddr").val(),permitNO:$("#toothPermitNO").val(),registerNO:$("#toothRegisterNO").val(),vendorContact:$("#vendorContact").val(),vendorContactPhone:$("#vendorContactPhone").val()};var b={method:"POST",url:maindata_url.getUrl().mdcVendor_saveVendorInfo,data:d,dataType:"json",showMask:true};var c=Utils.myAjaxHandler(b);c.done(function(h){var e=h.errorMessage;var f=h.errorCode;if(f!="E0000000"){$.paAlert(e);return}$.paAlert("保存成功！");$("#list_div").show();$("#add_edit_div").hide();$("#tooth_add_edit_div").hide();var g={dictItemId:$("#category .current a").attr("data-dictitemid"),currentPage:localStorage.getItem("currentPage"),searchCode:$("#searchCode").val()};showToothListInPage(g)}).fail(function(e){}).always(function(){})}function updateClickMdcVendorList(){var a=$(".current a").attr("data-dictitemid");getClickMdcVendorList(a,"")}function updateToothVendorInit(a,c){$("#tooth_add_edit_div").removeErrorMsg();$("#list_div").hide();$("#add_edit_div").hide();$("#tooth_add_edit_div").show();getToothNation();getToothProvince();getToothCity("");var b={method:"POST",url:maindata_url.getUrl().mdcVendor_getToothEditInfo,data:{vendorId:a},dataType:"json",showMask:true};var d=Utils.myAjaxHandler(b);d.done(function(h){var e=h.data;var f=h.errorMessage;var g=h.errorCode;if(g!="E0000000"){$.paAlert("失败："+g+"，"+f);return}$("#toothVendorId").val(a);$("#toothVendorCode").val(e.VENDOR_CODE);$("#toothVendorName").val(e.VENDOR_NAME);$("#toothVendorType").val(e.VENDOR_TYPE);$("#toothVendorLicense").val(e.VENDOR_LICENCE_NO);$("#toothWbCode").val(e.WB_CODE);$("#toothPyCode").val(e.PY_CODE);$("#toothNation").val(e.NATION_DICT_ITEM_NAME);$("#toothNation").attr("val",e.NATION_DICT_ITEM_NAME);$("#toothProvince").val(e.PROVINCE_DICT_ITEM_NAME);$("#toothProvince").attr("val",e.PROVINCE_DICT_ITEM_NAME);$("#toothCity").val(e.CITY_DICT_ITEM_NAME);$("#toothCity").attr("val",e.CITY_DICT_ITEM_NAME);$("#toothDetailAddr").val(e.VENDOR_ADDR);$("#toothPermitNO").val(e.VENDOR_PERMIT_NO);$("#toothRegisterNO").val(e.VENDOR_REGISTER_NO);$("#vendorContact").val(e.VENDOR_CONTACT);$("#vendorContactPhone").val(e.VENDOR_CONTACT_PHONE)}).fail(function(e){}).always(function(){});$("#tooth_add_edit_div").ketchup()};