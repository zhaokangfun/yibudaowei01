var tradeTypeEnum={SI001:"SI001",SI002:"SI002",XX001:"XX001",XX002:"XX002",XX003:"XX003",ML001:"ML001",ML002:"ML002",ML003:"ML003",ML004:"ML004",ML005:"ML005",ML006:"ML006",ML007:"ML007",ML008:"ML008",ML009:"ML009",ML010:"ML010",JG001:"JG001",YD001:"YD001",YD002:"YD002",MZ001:"MZ001",MZ002:"MZ002",ZY001:"ZY001",ZY002:"ZY002",ZY003:"ZY003",ZY004:"ZY004",ZY005:"ZY005",ZY006:"ZY006",ZY007:"ZY007",ZY008:"ZY008",ZY009:"ZY009",ZY010:"ZY010",ZY011:"ZY011",ZY012:"ZY012",ZY013:"ZY013",ZY014:"ZY014",ZY015:"ZY015",FY001:"FY001",FY002:"FY002",FY003:"FY003",FY004:"FY004",FY005:"FY005",JY001:"JY001",JY002:"JY002",JY003:"JY003",DZ001:"DZ001",DZ002:"DZ002",DZ003:"DZ003",YS001:"YS001",YS002:"YS002",YS003:"YS003",JX001:"JX001",JX002:"JX002",JX003:"JX003",JX004:"JX004"};var transChannel={HIS_CARD:"10",WECHAT:"20",PINGAN_PAY:"21",ALI_PAY:"22",ASSIST_PAY:"22",};function ybReimburse(a){this.option=a||{};this.option.transChannel=transChannel.HIS_CARD}ybReimburse.prototype={constructor:ybReimburse,getYBOnlineStatus:function(c,g,d,i,f,h,e){var a={transType:tradeTypeEnum.SI001,serialNumber:g,verifyCode:d,transVersion:i,cardArea:f};var b={};console.log("获取医保连接状态opt参数:"+JSON.stringify(a));this.remoteCallYB(a,b,function(j){h(j)},function(j){e(j)})},getYBOrgAppointInfo:function(c,g,d,i,f,h,e){var a={transType:tradeTypeEnum.JG001,serialNumber:g,verifyCode:d,transVersion:i,cardArea:f};var b={};console.log("获取机构约定信息opt参数:"+JSON.stringify(a));this.remoteCallYB(a,b,function(j){h(j)},function(j){e(j)})},getYBPersonBaseInfo:function(e,g,f,c,a,h,b){var d={transType:tradeTypeEnum.XX001,serialNumber:g,verifyCode:f,transVersion:c,cardArea:a};this.remoteCallYB(d,e,function(i){h(i)},function(i){b(i)},function(i){})},getYBPersonMoreInfo:function(e,g,f,c,a,h,b){var d={transType:tradeTypeEnum.XX002,serialNumber:g,verifyCode:f,transVersion:c,cardArea:a};console.log("获取个人详细信息opt参数:"+JSON.stringify(d));this.remoteCallYB(d,e,function(i){h(i)},function(i){b(i)},function(i){})},getYBPersonFeeInfo:function(e,g,f,c,a,h,b){var d={transType:tradeTypeEnum.XX003,serialNumber:g,verifyCode:f,transVersion:c,cardArea:a};console.log("获取医保缴费信息opt参数:"+JSON.stringify(d));this.remoteCallYB(d,e,function(i){h(i)},function(i){b(i)})},tryRegSettlement:function(e,g,f,c,a,h,b){var d={transType:tradeTypeEnum.MZ001,serialNumber:g,verifyCode:f,transVersion:c,cardArea:a};this.remoteCallYB(d,e,function(i){h(i)},function(i){b(i)})},regSettlement:function(c,g,d,i,f,h,e){var a={transType:tradeTypeEnum.MZ002,serialNumber:g,verifyCode:d,transVersion:i,cardArea:f};var b={akc190:c.akc190||"",aaz500:c.aaz500||"",bzz269:c.bzz269||"000000",aka130:c.aka130||"",akf001:c.akf001||"",bkc368:c.bkc368||"",aka120:c.aka120||"",akc188:c.akc188||"",akc189:c.akc189||"",bke384:c.bke384||"",akc264:c.akc264||"0",listsize:"1",};this.remoteCallYB(a,b,function(j){h(j)},function(j){e(j)})},transactionQuery:function(c,e,a){var b={transType:tradeTypeEnum.JY001};var d={akc190:"H0030YZS0001",ckc618:"A4403001712060000030",bke384:""};this.remoteCallYB(b,d,function(f){e(f)},function(f){a(f)})},refundOpt:function(c,g,d,i,f,h,e){var a={transType:tradeTypeEnum.JY002,serialNumber:g,verifyCode:d,transVersion:i,cardArea:f};var b={akc190:c.akc190||"",ckc618:c.ckc618||"",bke384:c.bke384||"",};this.remoteCallYB(a,b,function(j){h(j)},function(j){e(j)})},transactionRevocation:function(c,e,a){var b={transType:tradeTypeEnum.JY003};var d={akc190:"H0030YZS0001",ckc618:"A4403001712060000030",bke384:""};this.remoteCallYB(b,d,function(f){e(f)},function(f){a(f)})},remoteCallYB:function(a,i,h,e,d){var j=this;Utils.addLoadingMaskTo(null,MI_COMMON.LOAD_TEXT);var b=MI_COMMON.getYBBaseInfo();var g=MI_COMMON.getIpAddress("yb0005");var f="http://192.168.1.228:17001/szsi-portal/transData";$.extend(a,j.option);if(!j.checkYBPermission(b)){return}var i={transBody:i,};var a={transTime:j.getCurrentTime(),transType:a.transType||"",transVersion:a.transVersion,serialNumber:a.serialNumber||"",cardArea:a.cardArea||"",hospitalCode:b.hospitalCode||"",operatorCode:b.ybOperatorId||"",operatorName:b.ybOperatorName||"",operatorPass:"123456",verifyCode:a.verifyCode,extendDeviceId:a.extendDeviceId||"",transChannel:a.transChannel||"10",transReturnCode:a.transReturnCode||"",transReturnMessage:a.transReturnMessage||"",extendUserId:a.extendUserId||"",extendSerialNumber:a.extendSerialNumber||""};var c=$.extend({},i,a);console.log(">>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>yb.send.params:"+JSON.stringify(c));$.ajax({type:"get",async:true,url:g+"?url="+encodeURIComponent(encodeURIComponent(f))+"&param="+encodeURIComponent(encodeURIComponent(JSON.stringify(c))),dataType:"jsonp",timeout:30000,jsonp:"backMsg",success:function(l){if(l.errorCode=="E0000000"){if(l.data!=null){if(l.data.transReturnCode=="00000000"){h(l.data.transBody)}else{var k="医保系统提示："+l.data.transReturnMessage;MI_COMMON.ErrorHintPop(k)}}else{var k="医保系统异常";MI_COMMON.ErrorHintPop(k)}}else{var k="前置机系统提示："+l.errorMessage;MI_COMMON.ErrorHintPop(k)}},error:function(){var k="医保前置程序连接异常!";$.paError(k);if(d){d(k)}},always:function(){},complete:function(){Utils.removeLoadingMaskFrom()}})},getCurrentTime:function(){return(new Date()).Format("yyyyMMddHHmmss")+":000"},checkYBPermission:function(b){var c=b.ybOperatorId;if(!c){var a="医保系统提示： 请在医保管理模块进行医保人员对照";MI_COMMON.ErrorHintPop(a);return false}return true}};