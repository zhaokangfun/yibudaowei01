var wjPrintUtils={printFunction:{charge:"1",patientRegister:"2",YB_patientRegister:"3",paymentReport:"5",westRecipe:"4",injectReceipt:"6",cnRecipe:"7",drugTag:"8",medicalRecord:"10",westRecipeCustomer:"9",treatProject:"11",cnMedicalRecord:"12",treatment:"13",feeChinaMedicien:"16",treatPlan:"14",chargeTicket:"18",boilCard:"19",teethCheck:"20",examineForm:"21",inspectReport:"17",dentistReport:"23",physiotherapy:"24",rescript:"25",inboundlist:"26",outboundlist:"27",prescription:"28"},getPrintSetting:function(b,c){var a={url:Context_Print_Server+"printSetting/selectOne",type:"POST",data:{templateType:b},dataType:"json",showMask:true,async:true};Utils.myAjaxHandler(a).done(function(i){var f=i.data;if(i.errorCode==SUCCESSCODE){var h=1;var d="";if(f){h=f.printType;d=f.printSetting}if(h==1){try{d=JSON.parse(d);if(d.rightOffset||d.rightOffset=="0"){d.rightOffset=parseFloat(d.rightOffset)}if(d.bottomOffset||d.bottomOffset=="0"){d.bottomOffset=parseFloat(d.bottomOffset)}}catch(g){d={rightOffset:0,bottomOffset:0}}}c(h,d)}else{$.paWarn("查询打印参数配置失败！")}}).fail(function(d){c(1,"")}).always(function(){})},print:function(a,b,c){if(!window.frames.htmlPrintFrame){$("body").append('<iframe style="border: none;" width="0px" height="0px" id="htmlPrintFrame" name="htmlPrintFrame" src="'+Context_Print_Web+'clinic/print/print.html"></iframe>');$("#htmlPrintFrame").load(function(){window.frames.htmlPrintFrame.doPrint(a,b,c)})}else{window.frames.htmlPrintFrame.doPrint(a,b,c)}},printList:function(c,b,d){for(var a in b){if(window.frames["htmlPrintFrame"+a]){$("#htmlPrintFrame"+a).remove()}$("body").append('<iframe style="border: none;" width="0px" height="0px" data-index="'+a+'" id="htmlPrintFrame'+a+'" name="htmlPrintFrame'+a+'" src="'+Context_Print_Web+'clinic/print/print.html"></iframe>');$("#htmlPrintFrame"+a).load(function(){var f=$(this).attr("id");var e=$(this).attr("data-index");window.frames[f].doPrint(c,b[e],d)})}},printMore:function(a,b,c,d){if(!window.frames["htmlPrintFrame"+c]){$("body").append('<iframe style="border: none;" width="0px" height="0px" id="htmlPrintFrame'+c+'" name="htmlPrintFrame'+c+'" src="'+Context_Print_Web+'clinic/print/print.html"></iframe>');$("#htmlPrintFrame"+c).load(function(){window.frames["htmlPrintFrame"+c].doPrint(a,b,d)})}else{window.frames["htmlPrintFrame"+c].doPrint(a,b,d)}}};