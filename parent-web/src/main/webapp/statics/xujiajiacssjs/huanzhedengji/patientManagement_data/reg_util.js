function fmoney(b,d){if(b==undefined||b==""){return b}d=d>0&&d<=20?d:2;b=(b+"").replace(/[^\d\.-]/g,"");c=b.split(".")[1]||0;if(c>d){}else{b=parseFloat(b).toFixed(d)+""}var a=b.split(".")[0].split("").reverse(),c=b.split(".")[1];t="";for(i=0;i<a.length;i++){t+=a[i]+((i+1)%3==0&&(i+1)!=a.length&&(a[i+1]!="-")?",":"")}return t.split("").reverse().join("")+"."+c}function getGenderName(b){if(b=="1"){return"男"}else{if(b=="2"){return"女"}else{if(b=="3"){return"保密"}else{return b}}}}function setSelectIdValue(d,c){var a=$("#"+d);var b=a.parent().find("li[data-value='"+c+"']").text();a.val(b);a.attr("val",c)}function getBirthdayFromIdCard(a){var b="";if(a!=null&&a!=""){if(a.length==15){b="19"+a.substr(6,6)}else{if(a.length==18){b=a.substr(6,8)}}b=b.replace(/(.{4})(.{2})/,"$1-$2-")}return b}function getAgeByBirthDay(f){var c;var a=f.split("-");var o=a[0];var g=a[1];var n=a[2];var l=new Date();var e=l.getFullYear();var b=l.getMonth()+1;var m=l.getDate();if(e==o){c=0}else{var j=e-o;if(j>0){if(b==g){var h=m-n;if(h<0){c=j-1}else{c=j}}else{var k=b-g;if(k<0){c=j-1}else{c=j}}}else{c=""}}return c}function setBirthDayYearAndMonth(b){var a=Utils.calcPatientAge(b);if(a!=""){var c=a.split(",");$("#age").val(c[0]);$("#month").val(c[1]);$("#age").removeClass("pawjzs-error");$("#month").removeClass("pawjzs-error")}}function disabledAllInput(a){a.each(function(){var c=$(this);c.addClass("wjzs-disabled");c.find("input").addClass("wjzs-disabled");c[0].setAttribute("readOnly","true");c.find("input").each(function(){$(this)[0].setAttribute("readOnly","true")});c.find(".drop").each(function(){$(this).removeClass("drop");$(this).addClass("drop-disabled")});if(c.hasClass("drop")){c.removeClass("drop");c.addClass("drop-disabled")}if(c.hasClass("checkboxes")){c[0].removeAttribute("readOnly");c.removeClass("wjzs-disabled");c.append("<div class='select-disabled'>&nbsp;</div>");c.find("li").each(function(){$(this).addClass("wjzs-disabled")})}if(c.find("span").hasClass("radio")){c[0].removeAttribute("readOnly");c.removeClass("wjzs-disabled");var b=c.position().top;c.append("<div class='select-disabled' style='top:"+b+"px'>&nbsp;</div>");c.find("span").each(function(){$(this).addClass("wjzs-disabled")})}})}function enableAllInput(a){a.each(function(){var b=$(this);b.removeClass("wjzs-disabled");b.find("input").removeClass("wjzs-disabled");b[0].removeAttribute("readOnly");b.find("input").each(function(){$(this)[0].removeAttribute("readOnly")});b.find(".drop-disabled").each(function(){$(this).removeClass("drop-disabled");$(this).addClass("drop")});if(b.hasClass("drop-disabled")){b.removeClass("drop-disabled");b.addClass("drop")}if(b.find("span").hasClass("radio")){b.find(".select-disabled").remove();b.find("span").each(function(){$(this).removeClass("wjzs-disabled")})}if(b.hasClass("checkboxes")){b.find(".select-disabled").remove();b.find("li").each(function(){$(this).removeClass("wjzs-disabled")})}})};