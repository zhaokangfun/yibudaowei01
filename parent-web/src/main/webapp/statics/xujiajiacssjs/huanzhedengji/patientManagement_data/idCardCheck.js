var vcity={11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",21:"辽宁",22:"吉林",23:"黑龙江",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"新疆",71:"台湾",81:"香港",82:"澳门",91:"国外"};isCardNo=function(a){var b=/(^\d{15}$)|(^\d{17}(\d|X)$)/;if(b.test(a)===false){return false}return true};checkProvince=function(b){var a=b.substr(0,2);if(vcity[a]==undefined){return false}return true};checkBirthday=function(a){var b=a.length;if(b=="15"){var i=/^(\d{6})(\d{2})(\d{2})(\d{2})(\d{3})$/;var d=a.match(i);var e=d[2];var c=d[3];var f=d[4];var g=new Date("19"+e+"/"+c+"/"+f);return verifyBirthday("19"+e,c,f,g)}if(b=="18"){var h=/^(\d{6})(\d{4})(\d{2})(\d{2})(\d{3})([0-9]|X)$/;var d=a.match(h);var e=d[2];var c=d[3];var f=d[4];var g=new Date(e+"/"+c+"/"+f);return verifyBirthday(e,c,f,g)}return false};function getBirthDay(e){var a=e.length;if(a=="15"){var f=/^(\d{6})(\d{2})(\d{2})(\d{2})(\d{3})$/;var d=e.match(f);var g=d[2];var h=d[3];var c=d[4];return"19"+g+"-"+h+"-"+c}if(a=="18"){var b=/^(\d{6})(\d{4})(\d{2})(\d{2})(\d{3})([0-9]|X)$/;var d=e.match(b);var g=d[2];var h=d[3];var c=d[4];return g+"-"+h+"-"+c}return""}function getGender(c){var b=c.length;var a;if(b=="15"){a=c[14]}if(b=="18"){a=c[16]}if(parseInt(a)%2==1){return 1}else{return 2}}verifyBirthday=function(d,g,a,e){var b=new Date();var c=b.getFullYear();if(e.getFullYear()==d&&(e.getMonth()+1)==g&&e.getDate()==a){var f=c-d;if(f>=3&&f<=100){return true}return false}return false};checkParity=function(e){e=changeFivteenToEighteen(e);var b=e.length;if(b=="18"){var d=new Array(7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2);var a=new Array("1","0","X","9","8","7","6","5","4","3","2");var g=0,f,c;for(f=0;f<17;f++){g+=e.substr(f,1)*d[f]}c=a[g%11];if(c==e.substr(17,1)){return true}return false}return false};changeFivteenToEighteen=function(c){if(c.length=="15"){var b=new Array(7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2);var a=new Array("1","0","X","9","8","7","6","5","4","3","2");var e=0,d;c=c.substr(0,6)+"19"+c.substr(6,c.length-6);for(d=0;d<17;d++){e+=c.substr(d,1)*b[d]}c+=a[e%11];return c}return c};idCardVerifySuccess=function(b){var e=getBirthDay(b);var d=getGender(b);var c=$("#sex");if(c!=null){c.removeClass("pawjzs-error");c.parent().removeClass("pawjzs-error");c.SetWJZSDropdownSelectedData(d)}var a=$("#birthday");if(a!=null){a.removeClass("pawjzs-error");a.parent().removeClass("pawjzs-error");a.val(e).change()}};verfyIDCard=function(a){if(isCardNo(a)===false){return false}if(checkProvince(a)===false){return false}if(checkBirthday(a)===false){return false}if(checkParity(a)===false){return false}return true};